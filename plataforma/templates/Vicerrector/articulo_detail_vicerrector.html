{% extends "base.html" %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/forms.css' %}">
{% endblock %}

{% block content %}
<div class="content">
  <div class="col">
    <div class="container-form">
      <div class="form">
        <div class="container-fluid py-4">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="title">
                  <h3 class="title-text p-3">Detalles del Artículo</h3>
                </div>
                <form id="formu" method="POST">
                  {% csrf_token %}
                  <div class="card-body">
                    <div class="row">
                      <div class="col-md-12">
                        <div class="seccion-formulario">
                          <h5>Datos del artículo</h5>
                          <div class="row">
                            <div class="col-md-12">
                              <div class="form-group">
                                <label class="form-control-label">Título</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.titulo }}"
                                  readonly>
                              </div>
                            </div>
                            <div class="col-md-12">
                              <div class="form-group">
                                <label class="form-control-label">Autores</label>
                                <div class="form-control readonly-input" style="height: auto; min-height: 38px;">
                                  {% if articulo.autores.all %}
                                  <div class="d-flex flex-wrap">
                                    {% for autor in articulo.autores.all %}
                                    <span class="autor-badge">
                                      {% if autor.usuario.username %}
                                      {{ autor.nombre_completo }}
                                      {% elif autor.colaborador %}
                                      {{ autor.colaborador.nombre }} {{ autor.colaborador.apellidos }}
                                      {% else %}
                                      Desconocido
                                      {% endif %}
                                    </span>
                                    {% endfor %}
                                  </div>
                                  {% else %}
                                  <span class="text-muted">No hay participantes seleccionados</span>
                                  {% endif %}
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-control-label">DOI</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.doi }}"
                                  readonly>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-control-label">ISSN o ISBN</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.issn_isbn }}"
                                  readonly>
                              </div>
                            </div>
                            <div class="col-md-6 ">
                              <div class="form-group">
                                <label class="form-control-label">Fecha de publicación</label>
                                <input type="text" class="form-control readonly-input"
                                  value="{{ articulo.fecha_create }}" readonly>
                              </div>
                            </div>
                            <div class="col-md-6 ">
                              <div class="form-group">
                                <label class="form-control-label">Idioma</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.idioma }}"
                                  readonly>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="seccion-formulario">
                          <h5>Datos de la Revista o Medio de Publicación</h5>
                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-control-label">Revista/Libro/Conferencia</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.revista }}"
                                  readonly>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-control-label">Editorial</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.editorial }}"
                                  readonly>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-control-label">Volumen</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.volumen }}"
                                  readonly>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-control-label">Número</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.numero }}"
                                  readonly>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-control-label">Páginas (inicio-fin)</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.pag }}"
                                  readonly>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-control-label">Indexación</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.indexacion }}"
                                  readonly>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-control-label">URL</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.url }}"
                                  readonly>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-control-label">País</label>
                                <input type="text" class="form-control readonly-input" value="{{ articulo.pais }}"
                                  readonly>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group icon-input">
                                <label class="form-control-label">Archivo Adjunto</label>
                                {% if articulo.archivo %}
                                <div class="current-file-info-disabled">
                                  <strong>Archivo actual:</strong>
                                  <a href="{{ articulo.archivo.url }}" target="_blank" class="current-file-link">
                                    <i class="fas fa-paperclip me-1"></i>
                                    Ver archivo
                                  </a>
                                </div>
                                {% else %}
                                <input type="text" class="form-control readonly-input" value="No existe el archivo"
                                  readonly>
                                {% endif %}
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label class="form-control-label">Forma de citar</label>
                                <input type="text" class="form-control readonly-input"
                                  value="{{ articulo.forma_citar }}" readonly>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="seccion-formulario">
                          <h5>Información adicional</h5>
                          <div class="row">
                            {% if articulo.proyecto %}
                            <div class="col-md-12">
                              <div class="form-group">
                                <label class="form-control-label">Proyecto asociado</label>
                                <input type="text" class="form-control readonly-input"
                                  value="{{ articulo.proyecto.nombre_proyecto }}" readonly>
                              </div>
                            </div>
                            {% else %}
                            <div class="col-md-12">
                              <div class="form-group">
                                <label class="form-control-label">No hay proyectos asociado</label>
                              </div>
                            </div>
                            {% endif %}
                          </div>
                        </div>
                        <div class="row mt-4">
                          <div class="col-md-12 text-center">
                            <a href="{% url 'Articulo_List_Vicerrector' %}" class="btn btn-cancelar ml-3">
                              <i class="fas fa-arrow-left me-2"></i>Volver
                            </a>
                          </div>
                        </div>
                      </div>
                    </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}