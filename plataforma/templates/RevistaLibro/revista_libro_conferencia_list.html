{% extends "base.html" %}
{% load static %}

{% block css %}
<link rel="stylesheet" href=" {% static 'css/Dashboard.css' %}">
<link rel="stylesheet" href=" {% static 'libs/Datatable/CSS/dataTables.bootstrap5.css' %}">
<link rel="stylesheet" href=" {% static 'libs/Datatable/CSS/buttons.bootstrap5.css' %}">
<link rel="stylesheet" href=" {% static 'libs/Datatable/CSS/responsive.bootstrap5.css' %}">
<link rel="stylesheet" href=" {% static 'css/datatableSD.css' %}">
{% endblock %}


{% block content %}
<section class="tabla" id="Revista_Libro_Conferencia">
  <div class="card card-a p-3 h-100">
    <div class="card-header">
      <h5 class="card-title title-t" style="text-align: center;">
        <i class="bi bi-journal-text"></i>
        Revistas, Libros y Conferencias
      </h5>
    </div>
    <div class="boot d-flex flex-wrap justify-content-start align-items-center">
      <a href="{% url 'Revista_Libro_Conferencia_Create' %}" class="btn1 m-2 btn btn-primary btn-sm text-decoration-none">Añadir</a>
    </div>
    
    <table id="RevistaLibroConferencia" class="display table table-striped table-hover table-primary" style="width:100%; height: 100%;">
      <thead class="encabezado">
        <tr>
          <th scope="col" style="color: white; text-align: center;">No</th>
          <th scope="col" style="color: white; text-align: center;">Título</th>
          <th scope="col" style="color: white; text-align: center;">Editorial</th>
          <th scope="col" style="color: white; text-align: center;">ISSN</th>
          <th scope="col" style="color: white; text-align: center;">ISBN</th>
          <th scope="col" style="color: white; text-align: center;">País</th>
          <th scope="col" style="color: white; text-align: center;">Idioma</th>
          <th scope="col" style="color: white; text-align: center;">Opciones</th>
        </tr>
      </thead>
      <tbody>
        {% for obj in objetos %}
          <tr>
            <td style="text-align: center;">{{ forloop.counter }}</td>
            <td style="text-align: start;">{{ obj.titulo }}</td>
            <td style="text-align: start;">{{ obj.editorial }}</td>
            <td style="text-align: start;">
              {% if obj.issn %}{{ obj.issn }}{% else %}-{% endif %}
            </td>
            <td style="text-align: start;">
              {% if obj.isbn %}{{ obj.isbn }}{% else %}-{% endif %}
            </td>
            <td style="text-align: start;">
              {% if obj.pais %}{{ obj.get_pais_display }}{% else %}-{% endif %}
            </td>
            <td style="text-align: start;">
              {% if obj.idioma %}{{ obj.get_idioma_display }}{% else %}-{% endif %}
            </td>
            <td style="text-align: center;">
              <a href="{% url 'Revista_Libro_Conferencia_Detail' obj.id %}"><i class="ico fas fa-solid fa-info-circle"></i></a>
              <a href="{% url 'Revista_Libro_Conferencia_Update' obj.id %}"><i class="ico fas fa-solid fa-pen-to-square"></i></a>
              <a class="iconos" data-bs-toggle="modal" data-bs-target="#RevistaLibroConferencia{{ obj.id }}"><i class="ico fas fa-solid fa-trash-can"></i></a>
            </td>
          </tr>
          
          <!-- Modal for each row -->
          <div class="modal fade" id="RevistaLibroConferencia{{ obj.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel" style="color:black">
                    <i class="bi bi-exclamation-triangle" style="color:black"></i> Eliminar
                  </h5>
                  <button type="button" class="btn-close cerrar" data-bs-dismiss="modal" aria-label="Close" style="box-shadow: none"></button>
                </div>
                <div class="modal-body" style="color:black">
                  ¿Desea eliminar la publicación "{{ obj.titulo }}"?
                  Esta acci&oacute;n ser&aacute; permanente.
                </div>
                <div class="modal-footer">
                  <a href="{% url 'Revista_Libro_Conferencia_Delete' obj.id %}" class="btn btn-primary">Aceptar</a>
                  <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cancelar</button>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <div class="option bgs">
    <div class="bg-active" id="bg-active"></div>
  </div>
</section>
{% endblock %}

   
{% block js %}
  <script src="{% static 'libs/Datatable/JS/jquery-3.7.1.js' %}"></script>
  <script src="{% static 'libs/Datatable/JS/dataTables.js' %}"></script>  
  <script src="{% static 'libs/Datatable/JS/dataTables.bootstrap5.js' %}"></script>
  <!--Botones DataTables-->  
  <script src="{% static 'libs/Datatable/JS/dataTables.buttons.js' %}"></script>  
  <script src="{% static 'libs/Datatable/JS/buttons.bootstrap5.js' %}"></script>  
  <script src="{% static 'libs/Datatable/JS/jszip.min.js' %}"></script>  
  <script src="{% static 'libs/Datatable/JS/pdfmake.min.js' %}"></script>  
  <script src="{% static 'libs/Datatable/JS/vfs_fonts.js' %}"></script>  
  <script src="{% static 'libs/Datatable/JS/buttons.html5.min.js' %}"></script>  
  <script src="{% static 'libs/Datatable/JS/buttons.print.min.js' %}"></script>  
  <script src="{% static 'libs/Datatable/JS/bottons.colVis.min.js' %}"></script>  
  <!--DataTables responsivo-->
  <script src="{% static 'libs/Datatable/JS/dataTables.responsive.js' %}"></script>  
  <script src="{% static 'libs/Datatable/JS/responsive.bootstrap5.js' %}"></script>  
  <!--Inicializar DataTables-->
  <script>
    $(document).ready(function() {
      $('#RevistaLibroConferencia').DataTable({
        responsive: true,
        738
        language: {
          url: "{% static 'libs/Datatable/dataTableLenguage.json' %}"
        },
        dom: 'Bfrtip',
        buttons: [
          {
            extend: 'excel',
            text: '<i class="fas fa-file-excel"></i> Excel',
            className: 'btn btn-success'
          },
          {
            extend: 'pdf',
            text: '<i class="fas fa-file-pdf"></i> PDF',
            className: 'btn btn-danger'
          },
          {
            extend: 'print',
            text: '<i class="fas fa-print"></i> Imprimir',
            className: 'btn btn-info'
          }
        ]
      });
    });
  </script>
{% endblock %}